<!DOCTYPE html>
<html>
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30684949-2"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-30684949-2');
	</script>
    <title>Self Learning</title>  
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" id="thecss">    
    <link rel="stylesheet" type="text/css" href="../../shared/css/stylesheet.css" id="commercial_css">    
    <meta charset="UTF-8">
    <meta name="description" content="A Hebrew Clock that shows the time of the Sun for sanctify the Moon">
    <meta name="keywords" content="Hebrew Clock">
    <meta name="author" content="Naftali Bilig">
</head>

<body>
    <div id="container" ondblclick="pause()">
		<div id="city-name"> </div>
        <div class="dropdown" ondblclick="shevetFunction()">
			<button onclick="myFunction()" class="dropbtn"></button>
			<button onclick="englishFunction()" class="english_btn"></button>
 <!--           <button onclick="genderFunction()" class="gender married"></button>
            <button onclick="pause()" class="refresh_btn refresh_btn_hebrew"></button>-->
			<div id="myDropdown" class="dropdown-content">
 <!--               <a href="index.html" id="hourly__learning">Self learning</a>
                <a href="../../marrige/en/index.html" id="hourly__learning">Married learning</a>
                <a href="../../children/en/index.html" id="hourly__learning">Learn on children</a>
				<a href="islam/index.html" id="monthly__learning">Learning with Muslim</a>
                <a href="cristian/index.html" id="yearly__learning">Learning with Christian</a>
				<a href="jewish/index.html" id="Jubilee__learning">Learning with Jew</a>-->
				<a href="kabala/index.html">Pray Schedule</a>
				<a onclick="sederLimud('Automate');" id="Automate__learning">Ha'Schedule Limud</a>				
				<a onclick="sederLimud('Woman');" id="hourly__learning">Married Limud</a>
				<a onclick="sederLimud('Man');" id="hourly__learning">Personal Limud</a>
				<a onclick="sederLimud('Month');" id="monthly__learning">Monthly learning</a>
				<a onclick="sederLimud('Year');" id="yearly__learning">Yearly learning</a>
				<a onclick="sederLimud('Jubilee');" id="yovel__learning">Ha'Yovel learning</a>
				<a href="https://birthcalculator.web.app/en/index.html" id="hourly__learning">Calculate Personal learning</a>

<!--				<a href="guide.html">Manual</a>-->
			</div>
        </div>
		<div style = "text-align:center; margin-bottom:10px; ">
			<table style="width:850px;">
				<input class ="clock" id="Hour" type="text" value = "11" />
				<input class ="clock" id="Text2" type="text" value = ":" />
				<input class ="clock" id="Minute" type="text" value = "1079"/>
				<input class ="clock" id="Text4" type="text" value = ":"/>
				<input class ="clock" id="Second" type="text" value = "75" />
			<table/>
        </div>
        <div style="text-align:center; margin-bottom:10px;">
            <button id="stop" onclick="stop()" />Stop
        </div>
        <div style="text-align:center; margin-bottom:10px;">  
            <input style="display: none; font-weight: bold;" class="day" id="Mazal"  type="text" value = "" onclick="openMidaInNewTab(1);"/>
        </div>
        <div style = "text-align:center; margin-bottom:10px;">
            <input style="display: none; font-weight: bold;" class="day" id="Shevet_01"  type="text" value = "" onclick="openMidaInNewTab(0);" ondblclick = "window.open('tel:+972543517530')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_01"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/>
			<input style="display: none; font-weight: bold;" class="day" id="Shevet_02"  type="text" value = "" onclick="openMidaInNewTab(0);" ondblclick = "window.open('tel:+972504261721')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_02"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet_03"  type="text" value = "" onclick="openMidaInNewTab(0);" ondblclick = "window.open('tel:+972526073090')" />
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_03"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/>
			<input style="display: none; font-weight: bold;" class="day" id="Shevet_04"  type="text" value = "" onclick="openMidaInNewTab(0);" ondblclick = "window.open('tel:+972547290108')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_04"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/>
			<input style="display: none; font-weight: bold;" class="day" id="Shevet_05"  type="text" value = "" onclick="openMidaInNewTab(0);" ondblclick = "window.open('tel:+972545604438')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_05"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/>
			<input style="display: none; font-weight: bold;" class="day" id="Shevet_06"  type="text" value = "" onclick="openMidaInNewTab(0);" ondblclick = "window.open('tel:+97229932480')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_06"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/> 
			<input style="display: none; font-weight: bold;" class="day" id="Shevet_07"  type="text" value = "" onclick="openMidaInNewTab(0);" ondblclick = "window.open('tel:+972523996201')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_07"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/>
			<input style="display: none; font-weight: bold;" class="day" id="Shevet_08"  type="text" value = "" onclick="openMidaInNewTab(0);" ondblclick = "window.open('tel:+972506247802')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_08"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/>
			<input style="display: none; font-weight: bold;" class="day" id="Shevet_09"  type="text" value = "" onclick="openMidaInNewTab(0);" ondblclick = "window.open('tel:+972523682216')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_09"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet_10"  type="text" value = "" onclick="openMidaInNewTab(0);" ondblclick = "window.open('tel:+972542267262')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_10"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet_11"  type="text" value = "" onclick="openMidaInNewTab(0);" <!--יוסף-->
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_11"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet_12"  type="text" value = "" onclick="openMidaInNewTab(0);" ondblclick= "window.open('tel:+972527401735')"/>
            <input style="display: none; font-weight: bold;" class="day" id="Shevet__mida_12"  type="text" value = "" onclick="window.open('tel:+972587401735')" ondblclick = "window.open('tel:+972543517530')"/>
        </div>
        <div style="text-align:center; margin-bottom:10px;">
            <input class="day" id="Masechet"  type="text" value="" onclick="openMasechetInNewTab();" />
        </div>
        <div style="text-align:center; margin-bottom:10px;">
            <input class="day" id="Sefer"  type="text" value="" onclick="openSeferInNewTab();" />
        </div>
        <div style="text-align:center; margin-bottom:10px;">
            <input class="day" id="Parasha" type="text" value="" onclick="openParashaInNewTab();" />
        </div>
		<!--
        <div id="commercial" style="text-align:center; margin-bottom:10px; margin-top: 10px;">
			<img class="day" />
        </div>
        <br />
        <br />
		-->
    </div>

    <script type="text/javascript" src="js/Religion.js"></script>
    <script type="text/javascript" src="js/HebrewDate.js"></script>
    <script type="text/javascript" src="../../shared/en/js/Geolocation.js"></script>
    <script type="text/javascript" src="js/Menu.js"></script>
    <script type="text/javascript" src="js/HebrewClock.js"></script>
    <script type="text/javascript" src="js/SederLimud.js"></script>
    <script type="text/javascript" src="../../shared/en/js/Commercial.js"></script>
    <script type="text/javascript" src="js/Mazal.js"></script>
	<script type="text/javascript" src="js/Gender.js"></script>
    <script type="text/javascript" src="js/Sefer.js"></script>
    <script type="text/javascript" src="js/Masechet.js"></script>
    <script type="text/javascript" src="js/Parasha.js"></script>
    <script type="text/javascript" src="js/Shevet.js"></script>
	<script type="text/javascript" src="js/Times.js"></script>
    <script type="text/javascript" src="js/SunTime.js"></script>
    <script type="text/javascript" src="js/TimeAdj.js"></script>
    <script type="text/javascript" src="js/Dst.js"></script>
    <script type="text/javascript" src="js/Dates.js"></script>
    <script type="text/javascript" src="js/Location.js"></script>
	
<script type="text/javascript">

    //public variables
    var longitude, latitude;  //current geo location
    var latd = -1, latm = 0;  // lat on earth
    var lngd = -1, lngm = 0;  // long on earth
    var lat = 0, lng = 0;     // sun's location

    var ns,ew;              // hemisphere
    var dst; 	            // daylight saving time
    var ampm = false; 	    // am/pm or 24 hour display

    var monCount = [13, 1, 32, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366];
    var flag = false;

    var sunsetH;
    var sunsetM;
    var sunsetS;

	var birthDay,birthHour;

    var tz = (new Date().getTimezoneOffset() / -60); //current time zone

    var month, day, year;       //curren date

    var shaa_zmanit_night = 1;
    var shaa_zmanit_day = 1;

	var milisec_shaa_zmanit_night = 1000;
    var milisec_shaa_zmanit_day = 1000;
	
    var oTimer;                 //event for the running clock

	var sunrise;

    var hebrewday;
    var lbHour = 23;           //hour of the clock called also sha'a
    var lbHourClock;            //hour for displaying
    var lbMinute = 1075;       //minute of the clock called also chelek
    var lbSecond = 70;         //second of the clock called also re'ga
    var audio;
    var omer;
    var mazal_url;
    var mida_url;
    var x;
    var sefer_url;
    var parasha_url;

	
	const genders = {
        MARRIED: '10',
        FEMALE: '01',
        MALE: '00'        
	}
    var gender;
    if( localStorage["gender"] != null )
        gender = localStorage["gender"];
    else
        gender = genders.MARRIED;
	
	
    getLocation();  //activate the clock

    //document.getElementById("Masechet").value = "ברכות";

    //---get Location and activate the clock---
    function getLocation()
    {
		var url = new URL(document.location.href);
        var lon = url.searchParams.get("longitude");        
        var lat = url.searchParams.get("latitude");
		birthHour = url.searchParams.get("hour");
	
		if(lon && lat && !birthHour)
		{
		    longitude = lon ? lon : position.coords.longitude;
			latitude = lat ? lat : position.coords.latitude; 

			console.log("manual location");
			
			birthDay = url.searchParams.get("hebrewDay");
			birthHour = url.searchParams.get("hebrewHour");


			religionFunction();			
			set_dst();
			set_default_date();
			list_pos();
			hebrewclock();
			oTimerclock();
			//tora learning
			//genderInitFunction();
			setmazal();
			setMasechet();
			setSefer();
			setParasha();
			sederLimud('Dummy');
			
			//נחלה
			setShevet();
			commercialFunction();
				
			return;
		}
        else if (navigator.geolocation)
        {
            navigator.geolocation.getCurrentPosition(showPosition,showError);
        }

    }

    function showPosition(position)
    {
        var url = new URL(document.location.href);
        var lon = url.searchParams.get("longitude");        
        var lat = url.searchParams.get("latitude");        
        if(lat)
        {
            //tz = https://maps.googleapis.com/maps/api/timezone/outputFormat?parameters
        }

        longitude = lon ? lon : position.coords.longitude;
        latitude = lat ? lat : position.coords.latitude;
		
		birthDay = url.searchParams.get("hebrewDay");
		birthHour = url.searchParams.get("hebrewHour");

        set_dst();
        set_default_date();
        list_pos();
        hebrewclock();
		oTimerclock();
        //tora learning
        //genderInitFunction();
		setmazal();
        setMasechet();
        setSefer();
        setParasha();
		sederLimud('Dummy' );
		
		//נחלה
        setShevet();
        commercialFunction();
    }

    //link to mazal information
    function openMidaInNewTab(x) {
        var win;
        if (x == 1)
            win = window.open(mazal_url, '_blank');
        else if(x == 0)
            win = window.open(mida_url, '_blank');
        win.focus();
    }

    function openMasechetInNewTab()
    {
        var win;
        var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        if(iOS)
            win = window.open('https://apps.apple.com/us/app/kehati/id1059791961', '_blank');
        else
		    win = window.open('https://play.google.com/store/apps/details?id=com.nocker.kehati', '_blank');
        win.focus();
    }
    
    function openSeferInNewTab() 
    {
        var win;
        win = window.open('https://www.929.org.il/lang/en/today', '_blank');
        win.focus();
    }

    function openParashaInNewTab() {
        var win;
        var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        if(iOS)
            win = window.open('https://apps.apple.com/us/app/shnayim/id1296709500', '_blank');
        else
            win = window.open('https://play.google.com/store/apps/details?id=heb.apps.shnaimmikra', '_blank');
        win.focus();
    }
    
    //pause the background music
    function pause() {
        setmazal();
        setMasechet();
        setSefer();
        setParasha();
        sederLimud();
        audio.pause();
    }

    //kidush hachodesh on specific hour
    function stop() {
        clearInterval(oTimer);

        localStorage.setItem("hebrewday", hebrewday);
        localStorage.setItem("lbHourClock", lbHourClock);
        localStorage.setItem("lbHour", lbHour);
        localStorage.setItem("lbMinute", lbMinute);
        localStorage.setItem("lbSecond", lbSecond);
        localStorage.setItem("omer", omer);
        localStorage.setItem("mida", document.getElementById("Mazal").value);
        localStorage.setItem("masechet", document.getElementById("Masechet").value);
        localStorage.setItem("sefer", document.getElementById("Sefer").value);


        var win = window.open("moon.html", '_blank');
        win.focus();
    }
    </script>



</body>
</html>
